<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 880 920" aria-labelledby="title desc">
  <title id="title">Process Memory Layout: Stack grows downward, Heap grows upward</title>
  <desc id="desc">Diagram showing text/data at low addresses, heap growing upward, stack growing downward from high addresses, and a collision zone between them.</desc>

  <!-- Arrowhead -->
  <defs>
    <marker id="arrowHead" orient="auto" markerWidth="8" markerHeight="8" refX="6" refY="3.5">
      <path d="M0,0 L7,3.5 L0,7 z" fill="#0ea5e9"/>
    </marker>
    <!-- Diagonal hatch for collision zone -->
    <pattern id="hatch" patternUnits="userSpaceOnUse" width="10" height="10" patternTransform="rotate(45)">
      <line x1="0" y1="0" x2="0" y2="10" stroke="#e11d48" stroke-width="3" opacity=".6"/>
    </pattern>
  </defs>

  <!-- Title -->
  <text x="440" y="44" text-anchor="middle" style="font:700 20px Inter,Segoe UI,Roboto,Arial; fill:#111827">Process Virtual Memory Layout</text>
  <text x="440" y="70" text-anchor="middle" style="font:400 16px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Stack grows ↓ (toward lower addresses), Heap grows ↑ — collisions corrupt memory</text>

  <!-- Frame -->
  <rect x="160" y="100" width="560" height="760" rx="18" style="fill:none; stroke:#0f172a; stroke-width:3"/>
  <!-- Address labels -->
  <text x="740" y="92" text-anchor="end" style="font:600 18px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">High Address  (e.g., 0x7FFFFFFF)</text>
  <text x="740" y="880" text-anchor="end" style="font:600 18px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Low Address   (e.g., 0x00000000)</text>

  <!-- Text / Code -->
  <rect x="190" y="760" width="500" height="60" style="fill:#e0e7ff; stroke:#0f172a; stroke-width:1.5"/>
  <text x="210" y="792" style="font:700 20px Inter,Segoe UI,Roboto,Arial; fill:#4f46e5">Text (Code)</text>
  <text x="210" y="816" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Program instructions, constants, usually read-only + executable</text>

  <!-- Data / BSS -->
  <rect x="190" y="700" width="500" height="50" style="fill:#fef3c7; stroke:#0f172a; stroke-width:1.5"/>
  <text x="210" y="730" style="font:700 20px Inter,Segoe UI,Roboto,Arial; fill:#b45309">Data / BSS</text>
  <text x="210" y="752" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Globals &amp; statics (initialized &amp; zero-initialized)</text>

  <!-- Heap (grows upward) -->
  <rect x="190" y="520" width="500" height="160" style="fill:#dcfce7; stroke:#0f172a; stroke-width:1.5"/>
  <text x="210" y="548" style="font:700 20px Inter,Segoe UI,Roboto,Arial; fill:#059669">Heap</text>
  <text x="210" y="572" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Dynamic allocations: <tspan font-style="italic">new</tspan>, <tspan font-style="italic">malloc</tspan>, vectors, strings…</text>
  <!-- Heap growth arrow -->
  <path d="M440,660 L440,600" style="stroke:#0ea5e9; stroke-width:3; fill:none" marker-end="url(#arrowHead)"/>
  <text x="452" y="628" style="font:600 16px Inter,Segoe UI,Roboto,Arial; fill:#0ea5e9">grows up</text>

  <!-- Collision zone -->
  <rect x="190" y="430" width="500" height="70" style="fill:url(#hatch); stroke:#be123c; stroke-width:2"/>
  <text x="440" y="465" text-anchor="middle" style="font:700 20px Inter,Segoe UI,Roboto,Arial; fill:#e11d48">⚠ Stack–Heap Collision</text>
  <text x="440" y="486" text-anchor="middle" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Possible memory corruption (e.g., stack overflow or runaway allocations)</text>

  <!-- Stack (grows downward) -->
  <rect x="190" y="180" width="500" height="220" style="fill:#fee2e2; stroke:#0f172a; stroke-width:1.5"/>
  <text x="210" y="208" style="font:700 20px Inter,Segoe UI,Roboto,Arial; fill:#f43f5e">Stack</text>
  <text x="210" y="232" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Call frames, local variables, return addresses, saved registers</text>
  <!-- Stack growth arrow -->
  <path d="M440,240 L440,300" style="stroke:#0ea5e9; stroke-width:3; fill:none" marker-end="url(#arrowHead)"/>
  <text x="452" y="276" style="font:600 16px Inter,Segoe UI,Roboto,Arial; fill:#0ea5e9">grows down</text>

  <!-- High/Low captions -->
  <text x="170" y="130" style="font:400 18px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Higher →</text>
  <text x="170" y="835" style="font:400 18px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">← Lower</text>

  <!-- Legend -->
  <g>
    <rect x="40" y="140" width="90" height="110" rx="8" ry="8" style="fill:#f1f5f9; stroke:#0f172a"/>
    <rect x="50" y="155" width="20" height="12" style="fill:#fee2e2; stroke:#0f172a"/>
    <text x="76" y="165" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#111827">Stack</text>
    <rect x="50" y="180" width="20" height="12" style="fill:#dcfce7; stroke:#0f172a"/>
    <text x="76" y="190" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#111827">Heap</text>
    <rect x="50" y="205" width="20" height="12" style="fill:#fef3c7; stroke:#0f172a"/>
    <text x="76" y="215" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#111827">Data/BSS</text>
    <rect x="50" y="230" width="20" height="12" style="fill:#e0e7ff; stroke:#0f172a"/>
    <text x="76" y="240" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#111827">Text</text>
  </g>

  <!-- Notes on growth directions -->
  <text x="700" y="270" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Stack pointer ↓</text>
  <text x="700" y="610" style="font:400 14px Inter,Segoe UI,Roboto,Arial; fill:#6b7280">Heap pointer ↑</text>
</svg>
